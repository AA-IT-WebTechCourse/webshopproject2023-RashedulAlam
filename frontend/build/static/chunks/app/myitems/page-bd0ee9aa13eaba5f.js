(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2256:function(e,t,s){Promise.resolve().then(s.bind(s,6258))},7907:function(e,t,s){"use strict";var a=s(5313);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},7160:function(e,t,s){"use strict";var a=s(7437),l=s(9306),r=s(7907),n=s(2265);t.Z=function(e){return t=>{let{isLoggedIn:s}=(0,l.useAuth)(),i=(0,r.useRouter)();return((0,n.useEffect)(()=>{s||i.push("/login")},[s,i]),s)?(0,a.jsx)(e,{...t}):null}}},6258:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var a,l,r=s(7437),n=s(2265),i=s(7160);(a=l||(l={})).SALE="sale",a.SOLD="sold",a.PURCHASED="purchased";var c=s(7907),o=s(4303),d=e=>{let{viewType:t,product:s}=e,a=(0,c.useRouter)(),n=e=>{a.push("/myitems/".concat(e))},{created_at:i,description:d,id:u,owner_name:x,price:h,title:m,purchased_at:p,purchaser_name:f}=s;return(0,r.jsxs)("div",{className:"w-full bg-white shadow-md rounded-xl duration-500 hover:scale-[1.02] hover:shadow-xl flex flex-row justify-between",children:[(0,r.jsx)("div",{className:"flex",children:(0,r.jsxs)("div",{className:"px-4 py-3 w-fit flex flex-col justify-start gap-1",children:[(0,r.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,r.jsxs)("p",{className:"text-white text-xs w-fit p-1 rounded-md bg-green-500",children:["Published Date: ",(0,o.F)(i)]}),t==l.SOLD&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{className:"text-white text-xs p-1 rounded-md bg-gray-500",children:["Purchased by: ",f]}),(0,r.jsxs)("p",{className:"text-white text-xs w-fit p-1 rounded-md bg-blue-500",children:["Purchased Date: ",p&&(0,o.F)(p)]})]}),t==l.PURCHASED&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{className:"text-white text-xs p-1 rounded-md bg-gray-500",children:["Purchased from: ",x]}),(0,r.jsxs)("p",{className:"text-white text-xs p-1 rounded-md bg-blue-500",children:["Purchased Date: ",p&&(0,o.F)(p)]})]})]}),(0,r.jsx)("p",{className:"text-lg font-bold text-blue-800 truncate block capitalize",children:m}),(0,r.jsxs)("div",{className:"flex items-center mt-10",children:[(0,r.jsxs)("p",{className:"text-lg font-semibold text-blue-400 cursor-auto",children:["$",h]}),t==l.SALE&&(0,r.jsx)("button",{className:"ml-auto","aria-label":"add to cart",type:"button",onClick:()=>n(u),children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"black",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,r.jsx)("path",{d:"M12 20h9"}),(0,r.jsx)("path",{d:"M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"})]})})]})]})}),(0,r.jsx)("div",{className:"flex max-w-96 px-4 py-3",children:(0,r.jsx)("div",{className:"text-gray-400 text-xs",children:d})})]})},u=s(8498),x=s(5070),h=s(1537),m=s(5988),p=s(8795),f=s(8431),g=(0,i.Z)(()=>{let[e,t]=(0,n.useState)(l.SALE),[s,a]=(0,n.useState)([]),i=(0,c.useRouter)(),[o,g]=(0,n.useState)(1),[j,v]=(0,n.useState)(1),[w,N]=(0,n.useState)(""),[b,E]=(0,n.useState)(!1),S={active:" bg-gray-200 hover:bg-gray-200",inactive:" hover:bg-gray-200 "},A=()=>{i.push("/myitems/add-product")},y=t=>e==t?S.active:S.inactive;return(0,n.useEffect)(()=>{E(!0),x.z.get(h.Z.API_URLS.INVENTORY.PRODUCTS(o,e,w)).then(e=>{let{data:t}=e;t&&(a(t.results),v(Math.ceil(t.count/h.Z.PAGINATION.PAGE_SIZE))),setTimeout(()=>{E(!1)},500)},()=>{setTimeout(()=>{E(!1)},500)})},[o,e,w]),(0,r.jsxs)("div",{className:"flex flex-col gap-6 min-h-[75vh] w-full",children:[(0,r.jsxs)("ul",{className:"flex flex-wrap border-b border-gray-200 ",children:[(0,r.jsx)("li",{className:"mr-2",children:(0,r.jsx)("button",{className:"capitalize inline-block text-blue-600 hover:text-blue-700 rounded-t-lg py-4 px-4 text-sm font-medium text-center ".concat(y(l.SALE)),onClick:()=>t(l.SALE),children:l.SALE})}),(0,r.jsx)("li",{className:"mr-2",children:(0,r.jsx)("button",{className:"capitalize inline-block text-blue-600 hover:text-blue-700 rounded-t-lg py-4 px-4 text-sm font-medium text-center ".concat(y(l.SOLD)),onClick:()=>t(l.SOLD),children:l.SOLD})}),(0,r.jsx)("li",{className:"mr-2",children:(0,r.jsx)("button",{className:"capitalize inline-block text-blue-600 hover:text-blue-700 rounded-t-lg py-4 px-4 text-sm font-medium text-center ".concat(y(l.PURCHASED)),onClick:()=>t(l.PURCHASED),children:l.PURCHASED})})]}),(0,r.jsxs)("div",{className:"px-1 py-2 flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,r.jsx)(m.Z,{onSearch:N,searchText:w}),e==l.SALE&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{"aria-label":"add product",className:"rounded-full w-10 h-10 bg-blue-600 flex flex-row text-white",onClick:()=>A(),children:(0,r.jsxs)("svg",{width:"32",height:"32",stroke:"white",strokeWidth:"3",className:"m-2",children:[(0,r.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,r.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),(0,r.jsx)("p",{className:"text-blue-500 font-semibold text-sm",children:"Add Product"})]})]}),b?(0,r.jsx)(p.Z,{viewType:f.b.LIST_VIEW}):s.length?(0,r.jsx)("div",{className:"flex flex-col gap-4",children:s.map((t,s)=>(0,r.jsx)(d,{viewType:e,product:t},s))}):(0,r.jsx)(r.Fragment,{}),s.length?(0,r.jsx)("div",{children:(0,r.jsx)(u.Z,{currentPage:o,totalPages:j,onPageChange:e=>{g(e)}})}):(0,r.jsx)(r.Fragment,{}),s.length?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)("div",{children:(0,r.jsxs)("p",{role:"alert",className:"text-red-600 font-semibold mt-2",children:["No Product Found for ",e," !"]})})]})]})})},8795:function(e,t,s){"use strict";var a=s(7437);s(2265);var l=s(2603),r=s(8431);let n=()=>(0,a.jsx)("div",{className:"w-72 bg-white shadow-md rounded-xl duration-500 hover:scale-105 hover:shadow-xl",children:(0,a.jsxs)("div",{className:"px-4 py-3 w-72",children:[(0,a.jsx)("p",{className:"text-white text-xs w-20 p-1 rounded-md",children:(0,a.jsx)(l.Z,{})}),(0,a.jsx)("p",{className:"text-lg font-bold text-blue-600 truncate block capitalize",children:(0,a.jsx)(l.Z,{})}),(0,a.jsx)("div",{className:"text-gray-400 text-xs py-2",children:(0,a.jsx)(l.Z,{className:"h-40"})}),(0,a.jsx)("p",{className:"text-white text-xs w-20 p-1 rounded-md",children:(0,a.jsx)(l.Z,{})}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("p",{className:"text-lg font-semibold text-blue-400 cursor-auto my-3 w-20",children:(0,a.jsx)(l.Z,{})})})]})}),i=()=>(0,a.jsxs)("div",{className:"w-full bg-white shadow-md rounded-xl duration-500 hover:scale-[1.02] hover:shadow-xl flex flex-row justify-between",children:[(0,a.jsx)("div",{className:"flex",children:(0,a.jsxs)("div",{className:"px-4 py-3 w-fit flex flex-col justify-start gap-1",children:[(0,a.jsx)("p",{className:"text-white text-xs w-20 rounded-md",children:(0,a.jsx)(l.Z,{})}),(0,a.jsx)("p",{className:"text-lg font-bold text-blue-800 truncate block capitalize w-40",children:(0,a.jsx)(l.Z,{})}),(0,a.jsx)("div",{className:"flex flex-row gap-2",children:(0,a.jsx)("p",{className:"text-white text-xs w-20 h-8 rounded-md ",children:(0,a.jsx)(l.Z,{})})}),(0,a.jsx)("div",{className:"flex items-center mt-10",children:(0,a.jsx)("p",{className:"text-lg font-semibold text-blue-400 cursor-auto w-20",children:(0,a.jsx)(l.Z,{})})})]})}),(0,a.jsx)("div",{className:"flex w-80 px-4 py-3",children:(0,a.jsx)("div",{className:"text-gray-400 text-xs w-full",children:(0,a.jsx)(l.Z,{className:"w-80 h-40"})})})]});t.Z=e=>{let{viewType:t}=e,s=Array(8).fill(1);return(0,a.jsx)("div",{className:"flex flex-row gap-4 flex-wrap justify-start",children:s.map((e,s)=>t==r.b.GRID_VIEW?(0,a.jsx)(n,{},s):(0,a.jsx)(i,{},s))})}},8498:function(e,t,s){"use strict";var a=s(7437);s(2265),t.Z=e=>{let{currentPage:t=1,totalPages:s=0,onPageChange:l}=e;return(0,a.jsxs)("div",{className:"flex flex-row p-1 gap-2 items-center justify-center w-full",children:[(0,a.jsx)("button",{"aria-label":"previous page",onClick:()=>l&&l(t-1),disabled:1==t,children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"gray",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("polyline",{points:"15 18 9 12 15 6"})})}),(0,a.jsxs)("span",{className:"text-blue-500",children:[t," of ",s]}),(0,a.jsx)("button",{"aria-label":"next page",onClick:()=>l&&l(t+1),disabled:t==s,children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"gray",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("polyline",{points:"9 18 15 12 9 6"})})})]})}},8431:function(e,t,s){"use strict";var a,l;s.d(t,{b:function(){return a}}),(l=a||(a={}))[l.LIST_VIEW=0]="LIST_VIEW",l[l.GRID_VIEW=1]="GRID_VIEW"},5988:function(e,t,s){"use strict";var a=s(7437);s(2265),t.Z=e=>{let{searchText:t,onSearch:s}=e;return(0,a.jsxs)("div",{className:"flex relative h-12",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"stroke-gray-400 absolute left-2 top-3",children:[(0,a.jsx)("circle",{cx:"11",cy:"11",r:"8"}),(0,a.jsx)("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),(0,a.jsx)("input",{id:"product-search",type:"text",className:"placeholder shadow appearance-none border rounded w-full py-3 px-4 pl-10 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",placeholder:"search products",defaultValue:t,onChange:e=>s(e.target.value)})]})}},1537:function(e,t){"use strict";t.Z={API_HOST:"http://127.0.0.1:8000/",LOCAL_STORAGE:{TOKEN:"token",USER_NAME:"username",CART:{PRODUCTS:"products"}},API_URLS:{POPULATE_DB:"api/v1/initialization/",AUTH:{LOGIN:"api/v1/core/token/",REGISTER:"api/v1/user-management/register/"},PRODUCT:{PRODUCTS:(e,t)=>"api/v1/public/products?page=".concat(e).concat(t?"&search=".concat(t):""),GET_PRODUCT:e=>"api/v1/inventory/products/".concat(e,"/"),ADD_PRODUCT:"api/v1/inventory/products/",UPDATE_PRODUCT:e=>"api/v1/inventory/products/".concat(e,"/")},INVENTORY:{PRODUCTS:(e,t,s)=>"api/v1/inventory/products/?page=".concat(e,"&type=").concat(t).concat(s?"&search=".concat(s):"")},USER_MANAGEMENT:{CURRENT_USER:"api/v1/user-management/current-user/",UPDATE_USER_PASSWORD:"api/v1/user-management/change-password/"},PAY:"api/v1/pay/"},PAGINATION:{PAGE_SIZE:10}}},9306:function(e,t,s){"use strict";s.r(t),s.d(t,{AuthenticationProvider:function(){return i},useAuth:function(){return c}});var a=s(7437),l=s(2265),r=s(1537);let n=(0,l.createContext)({}),i=e=>{let{children:t}=e,[s,i]=(0,l.useState)(!0),[c,o]=(0,l.useState)(null),d=()=>{localStorage.clear(),o(null)};return(0,l.useEffect)(()=>{o(localStorage.getItem(r.Z.LOCAL_STORAGE.TOKEN)&&localStorage.getItem(r.Z.LOCAL_STORAGE.USER_NAME)?{token:localStorage.getItem(r.Z.LOCAL_STORAGE.TOKEN),username:localStorage.getItem(r.Z.LOCAL_STORAGE.USER_NAME)}:null),i(!1)},[i]),(0,l.useEffect)(()=>{let e=e=>{e.key===r.Z.LOCAL_STORAGE.TOKEN&&!e.newValue&&c&&d()};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[c]),(0,a.jsx)(a.Fragment,{children:s?(0,a.jsx)(a.Fragment,{children:" "}):(0,a.jsx)(n.Provider,{value:{user:c,setUserLoggedIn:e=>{(null==e?void 0:e.token)&&localStorage.setItem(r.Z.LOCAL_STORAGE.TOKEN,null==e?void 0:e.token),(null==e?void 0:e.username)&&localStorage.setItem(r.Z.LOCAL_STORAGE.USER_NAME,null==e?void 0:e.username),o(e)},isLoggedIn:!!c,logoutUser:d},children:t})})},c=()=>(0,l.useContext)(n)},5070:function(e,t,s){"use strict";s.d(t,{z:function(){return n}});var a=s(1537),l=s(3107);let r=l.default.create({baseURL:a.Z.API_HOST,timeout:4e4,headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"}}),n=l.default.create({baseURL:a.Z.API_HOST,timeout:4e4,headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8"}});n.interceptors.request.use(e=>{let t=localStorage.getItem(a.Z.LOCAL_STORAGE.TOKEN);return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),n.interceptors.response.use(e=>e,e=>(e.response&&401===e.response.status&&(localStorage.clear(),window.location.href="/login"),Promise.reject(e))),t.Z=r},4303:function(e,t,s){"use strict";s.d(t,{F:function(){return l}});var a=s(3125);let l=e=>(0,a.WU)(e,"MMM d, yyyy, h:mm a")}},function(e){e.O(0,[107,502,971,69,744],function(){return e(e.s=2256)}),_N_E=e.O()}]);