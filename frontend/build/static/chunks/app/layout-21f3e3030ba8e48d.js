(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{5546:function(e,t,n){Promise.resolve().then(n.t.bind(n,3649,23)),Promise.resolve().then(n.t.bind(n,6974,23)),Promise.resolve().then(n.bind(n,6123)),Promise.resolve().then(n.t.bind(n,3385,23)),Promise.resolve().then(n.t.bind(n,7739,23)),Promise.resolve().then(n.t.bind(n,8062,23)),Promise.resolve().then(n.bind(n,5237)),Promise.resolve().then(n.bind(n,9306)),Promise.resolve().then(n.bind(n,4064))},5237:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var s=n(7437),r=n(9306),a=n(8792),i=n(2265),o=e=>{let{user:t,accountSettingHandler:n,logoutHandler:r}=e,a=[{name:"Settings",icon:(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,s.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-.99 1.51V21a2 2 0 0 1-2 2h-1.5a2 2 0 0 1-2-2v-.2a1.65 1.65 0 0 0-.99-1.51 1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-.99H3a2 2 0 0 1-2-2v-1.5a2 2 0 0 1 2-2h.2a1.65 1.65 0 0 0 1.51-.99 1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33h.28a1.65 1.65 0 0 0 .99-1.51V3a2 2 0 0 1 2-2h1.5a2 2 0 0 1 2 2v.2a1.65 1.65 0 0 0 .99 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82v.28a1.65 1.65 0 0 0 1.51.99H21a2 2 0 0 1 2 2v1.5a2 2 0 0 1-2 2h-.2a1.65 1.65 0 0 0-1.51.99z"})]})}),url:"/account"},{name:"Logout",icon:(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,s.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,s.jsx)("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})}),isLogOutMenu:!0}],i=e=>{e?r():n()};return(0,s.jsxs)("div",{className:"group relative inline-block",children:[(0,s.jsxs)("button",{className:"font-semibold text-blue-600 focus:outline-none flex flex-row gap-1",children:[(0,s.jsx)("span",{children:(0,s.jsxs)("svg",{width:"32",height:"32",strokeWidth:"2",className:"stroke-blue-700",children:[(0,s.jsx)("circle",{cx:"12",cy:"7",r:"4"}),(0,s.jsx)("path",{d:"M5.5 21a9.5 9.5 0 0 1 13 0"})]})}),(0,s.jsx)("span",{children:null==t?void 0:t.username})]}),(0,s.jsx)("ul",{className:"hidden group-focus-within:block list-none absolute bg-gray-50 w-40 z-1 shadow-lg animate-slideIn",children:a.map((e,t)=>(0,s.jsx)("li",{className:"cursor-pointer text-xs font-semibold text-blue-700  hover:bg-blue-200 mb-1",children:(0,s.jsxs)("button",{"aria-label":e.name,onClick:()=>i(e.isLogOutMenu),className:"flex flex-row gap-2 items-center w-full py-3 px-4",children:[(0,s.jsx)("span",{children:e.icon}),(0,s.jsx)("span",{children:e.name})]})},t))})]})},l=e=>{let{count:t,onIconClick:n}=e;return(0,s.jsx)("div",{className:"flex flex-row",children:(0,s.jsxs)("button",{"aria-label":"shopping cart",className:"relative flex flex-row p-2",children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"stroke-blue-600",onClick:()=>n(),children:[(0,s.jsx)("circle",{cx:"9",cy:"21",r:"1"}),(0,s.jsx)("circle",{cx:"20",cy:"21",r:"1"}),(0,s.jsx)("path",{d:"M1 1h4l2.68 13.39a1 1 0 0 0 1 .61h9.72a1 1 0 0 0 1-.76l3.38-9.49H5.52"})]}),(0,s.jsx)("span",{className:"text-white font-semibold text-xs absolute right-0 top-0  h-4 w-4 bg-blue-500 rounded-full ".concat(t>0?"animate-bounce":""),children:t})]})})},c=n(7907),d=n(4064),u=()=>{let[e,t]=i.useState(!1),{isLoggedIn:n,user:u,logoutUser:h}=(0,r.useAuth)(),m=(0,c.useRouter)(),{products:x}=(0,d.useCart)(),g={count:x.length,onIconClick:()=>{m.push("/cart")}},p=[{name:"Database Seeding",url:"/db-population"},...n?[{name:"Inventory",url:"/myitems"}]:[],{name:"Docs",openNewTab:!0,url:"https://github.com/AA-IT-WebTechCourse/webshopproject2023-RashedulAlam/blob/main/README.md"}];return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"relative bg-white mb-5 ",children:[(0,s.jsx)("div",{className:"container mx-auto max-w-screen-xl",children:(0,s.jsxs)("div",{className:"flex justify-between items-center border-b-2 border-gray-100 py-6 md:justify-start md:space-x-10",children:[(0,s.jsx)("div",{className:"flex justify-start lg:w-0 lg:flex-1",children:(0,s.jsxs)(a.default,{href:"/",children:[(0,s.jsx)("span",{className:"sr-only",children:"Webshop"}),(0,s.jsx)("span",{className:"text-3xl text-blue-700 font-semibold drop-shadow-lg",children:"WebShop"})]})}),(0,s.jsx)("div",{className:"-mr-2 -my-2 md:hidden",children:(0,s.jsxs)("button",{type:"button",className:"bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",onClick:()=>t(!e),children:[(0,s.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,s.jsx)("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]})}),(0,s.jsx)("nav",{className:"hidden md:flex space-x-10",children:p.map((e,t)=>(0,s.jsx)(a.default,{href:e.url,target:e.openNewTab?"_blank":"_self",className:"text-base font-bold text-blue-500 hover:text-blue-800",children:e.name},t))}),!n&&(0,s.jsxs)("div",{className:"hidden md:flex items-center justify-end md:flex-1 lg:w-0",children:[(0,s.jsx)(a.default,{href:"/login",className:"whitespace-nowrap text-base font-medium text-gray-500 hover:text-gray-900",children:"Sign in"}),(0,s.jsx)(a.default,{href:"/signup",className:"ml-8 whitespace-nowrap inline-flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Sign up"})]}),n&&(0,s.jsxs)("div",{className:"hidden md:flex items-center justify-end md:flex-1 lg:w-0 gap-4",children:[(0,s.jsx)(l,{...g}),(0,s.jsx)(o,{user:u,logoutHandler:()=>{h&&h()},accountSettingHandler:()=>{m.push("/account")}})]})]})}),(0,s.jsx)("div",{className:e?"opacity-100 scale-100 ease-out duration-200 absolute top-0 inset-x-0 p-2 transition transform origin-top-right md:hidden z-10":"opacity-0 scale-95 absolute top-0 inset-x-0 p-2 transition transform origin-top-right md:hidden",children:(0,s.jsxs)("div",{className:"rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 bg-white divide-y-2 divide-gray-50",children:[(0,s.jsx)("div",{className:"pt-5 pb-6 px-5",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"sr-only",children:"Webshop"}),(0,s.jsx)("span",{className:"text-3xl text-blue-700 font-semibold drop-shadow-lg",children:"WebShop"})]}),(0,s.jsx)("div",{className:"-mr-2",children:(0,s.jsxs)("button",{type:"button",className:"bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500",onClick:()=>t(!e),children:[(0,s.jsx)("span",{className:"sr-only",children:"Close menu"}),(0,s.jsx)("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})})]})}),(0,s.jsxs)("div",{className:"py-6 px-5 space-y-6",children:[(0,s.jsx)("div",{className:"grid grid-cols-2 gap-y-4 gap-x-8",children:p.map((e,t)=>(0,s.jsx)(a.default,{href:e.url,target:e.openNewTab?"_blank":"_self",className:"text-base font-medium text-gray-900 hover:text-gray-700",children:e.name},t))}),(0,s.jsxs)("div",{children:[(0,s.jsx)(a.default,{href:"/signup",className:"w-full flex items-center justify-center px-4 py-2 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Sign up"}),(0,s.jsxs)("p",{className:"mt-6 text-center text-base font-medium text-gray-500",children:["Existing customer?",(0,s.jsx)(a.default,{href:"/login",className:"text-indigo-600 hover:text-indigo-500",children:"Sign in"})]})]})]})]})})]})})}},1537:function(e,t){"use strict";t.Z={API_HOST:"http://127.0.0.1:8000/",LOCAL_STORAGE:{TOKEN:"token",USER_NAME:"username",CART:{PRODUCTS:"products"}},API_URLS:{POPULATE_DB:"api/v1/initialization/",AUTH:{LOGIN:"api/v1/core/token/",REGISTER:"api/v1/user-management/register/"},PRODUCT:{PRODUCTS:(e,t)=>"api/v1/public/products?page=".concat(e).concat(t?"&search=".concat(t):""),GET_PRODUCT:e=>"api/v1/inventory/products/".concat(e,"/"),ADD_PRODUCT:"api/v1/inventory/products/",UPDATE_PRODUCT:e=>"api/v1/inventory/products/".concat(e,"/")},INVENTORY:{PRODUCTS:(e,t,n)=>"api/v1/inventory/products/?page=".concat(e,"&type=").concat(t).concat(n?"&search=".concat(n):"")},USER_MANAGEMENT:{CURRENT_USER:"api/v1/user-management/current-user/",UPDATE_USER_PASSWORD:"api/v1/user-management/change-password/"},PAY:"api/v1/pay/"},PAGINATION:{PAGE_SIZE:10}}},9306:function(e,t,n){"use strict";n.r(t),n.d(t,{AuthenticationProvider:function(){return o},useAuth:function(){return l}});var s=n(7437),r=n(2265),a=n(1537);let i=(0,r.createContext)({}),o=e=>{let{children:t}=e,[n,o]=(0,r.useState)(!0),[l,c]=(0,r.useState)(null),d=()=>{localStorage.clear(),c(null)};return(0,r.useEffect)(()=>{c(localStorage.getItem(a.Z.LOCAL_STORAGE.TOKEN)&&localStorage.getItem(a.Z.LOCAL_STORAGE.USER_NAME)?{token:localStorage.getItem(a.Z.LOCAL_STORAGE.TOKEN),username:localStorage.getItem(a.Z.LOCAL_STORAGE.USER_NAME)}:null),o(!1)},[o]),(0,r.useEffect)(()=>{let e=e=>{e.key===a.Z.LOCAL_STORAGE.TOKEN&&!e.newValue&&l&&d()};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[l]),(0,s.jsx)(s.Fragment,{children:n?(0,s.jsx)(s.Fragment,{children:" "}):(0,s.jsx)(i.Provider,{value:{user:l,setUserLoggedIn:e=>{(null==e?void 0:e.token)&&localStorage.setItem(a.Z.LOCAL_STORAGE.TOKEN,null==e?void 0:e.token),(null==e?void 0:e.username)&&localStorage.setItem(a.Z.LOCAL_STORAGE.USER_NAME,null==e?void 0:e.username),c(e)},isLoggedIn:!!l,logoutUser:d},children:t})})},l=()=>(0,r.useContext)(i)},4064:function(e,t,n){"use strict";n.r(t),n.d(t,{CartProvider:function(){return c},useCart:function(){return d}});var s=n(7437),r=n(2265),a=n(1537),i=n(6123),o=n(9306);let l=(0,r.createContext)({products:[]}),c=e=>{let{children:t}=e,[n,c]=(0,r.useState)([]),[d,u]=(0,r.useState)(!0),{user:h,isLoggedIn:m}=(0,o.useAuth)(),x=e=>{setTimeout(()=>{localStorage.setItem(a.Z.LOCAL_STORAGE.CART.PRODUCTS,JSON.stringify(e))})};return(0,r.useEffect)(()=>{var e;c(localStorage.getItem(a.Z.LOCAL_STORAGE.CART.PRODUCTS)?JSON.parse(null!==(e=localStorage.getItem(a.Z.LOCAL_STORAGE.CART.PRODUCTS))&&void 0!==e?e:"[]"):[]),u(!1)},[c]),(0,s.jsx)(s.Fragment,{children:d?(0,s.jsx)(s.Fragment,{}):(0,s.jsx)(l.Provider,{value:{products:n,addToCart:e=>{if((null==h?void 0:h.username)==e.owner_name){i.toast.error("".concat(e.title," can not be added as it's your own product!"));return}c(t=>{let n=[...t,e];return x(n),n}),i.toast.success("".concat(e.title," has been added to your cart!"))},removeFromCart:e=>{c(t=>{let n=t.filter(t=>t.id!==e.id);return x(n),n}),i.toast.warning("".concat(e.title," has been removed from your cart!"))},isExistsOnCart:e=>!!n.find(t=>t.id===e.id),mergeUpdatedProducts:e=>{c(t=>{let n=e.reduce((e,t)=>Object.assign(e,{[t.id]:t}),{});return t.map(e=>n[e.id]?n[e.id]:e)})},clearAll:()=>{c([]),x([])}},children:t})})},d=()=>(0,r.useContext)(l)},3385:function(){}},function(e){e.O(0,[123,792,207,971,69,744],function(){return e(e.s=5546)}),_N_E=e.O()}]);